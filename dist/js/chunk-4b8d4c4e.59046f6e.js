(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b8d4c4e"],{"0b4b":function(t,e,n){},5253:function(t,e,n){},"60bc":function(t,e,n){"use strict";n("0b4b")},b8f3:function(t,e,n){"use strict";n("5253")},fdce:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-page-giaocv"},[n("div",{staticClass:"block-select"},[n("div",{staticClass:"btn-add-cv"},[n("router-link",{staticClass:"mb-2 add-cv icon-tvgs pt-3 pb-3",attrs:{to:"/themcongviec",tag:"b-button"}},[n("b-icon",{attrs:{icon:"plus","aria-hidden":"true"}}),t._v(" Thêm ")],1)],1),n("div",{staticClass:"select-cbb"},[n("multiselect",{attrs:{multiple:"",placeholder:"Theo nhân sự","custom-label":t.custom_label_persion,label:"name","track-by":"id",selectLabel:"Ấn enter để chọn",deselectLabel:"Ấn enter để bỏ chọn",options:t.persion},model:{value:t.selectedPersion,callback:function(e){t.selectedPersion=e},expression:"selectedPersion"}})],1),n("div",{staticClass:"select-cbb"},[n("b-form-select",{attrs:{options:t.priority_level},scopedSlots:t._u([{key:"first",fn:function(){return[n("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Mức độ ưu tiên --")])]},proxy:!0}]),model:{value:t.selectedPriorityLevel,callback:function(e){t.selectedPriorityLevel=e},expression:"selectedPriorityLevel"}})],1),n("div",{staticClass:"select-cbb"},[n("b-form-select",{attrs:{options:t.job_status},scopedSlots:t._u([{key:"first",fn:function(){return[n("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Tình trạng công việc --")])]},proxy:!0}]),model:{value:t.selectedJobStatus,callback:function(e){t.selectedJobStatus=e},expression:"selectedJobStatus"}})],1),n("div",{staticClass:"select-cbb"},[n("b-form-select",{attrs:{options:t.work_results},scopedSlots:t._u([{key:"first",fn:function(){return[n("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Kết quả công việc --")])]},proxy:!0}]),model:{value:t.selectedWorkResults,callback:function(e){t.selectedWorkResults=e},expression:"selectedWorkResults"}})],1),n("div",{staticClass:"search-congv"},[n("b-input-group",{staticClass:"mb-2 add-cv icon-tvgs cursor-pointer",attrs:{size:"sm"}},[n("b-form-input",{attrs:{type:"search",placeholder:"Search terms"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("b-input-group-prepend",{attrs:{"is-text":""}},[n("b-icon",{attrs:{icon:"search"},on:{click:t.handleSearch}})],1),n("b-input-group-prepend",{attrs:{"is-text":""}},[n("b-icon",{attrs:{icon:"arrow-repeat"},on:{click:t.handleReset}})],1)],1)],1)]),t.search||t.selectedPriorityLevel||t.selectedPersion||t.selectedWorkResults||t.selectedJobStatus?n("div",{staticClass:"card-body pt-0 pb-3"},[n("div",{staticClass:"tab-content"},[n("div",{staticClass:"table-responsive table-striped"},[n("table",{staticClass:"\n              table\n              table-head-custom\n              table-vertical-center\n              table-head-bg\n              table-borderless\n              \n            "},[t._m(0),n("tbody",[t._l(t.handleSearch(),(function(e,a){return[n("tr",{key:a,staticClass:"row_table_note"},[n("td",{staticStyle:{display:"none"}},[n("span",{staticClass:"id_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.id?e.id:"null"))])]),n("td",[n("span",{staticClass:"ma_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.Ten?e.Ten:"null"))])]),n("td",[n("span",{staticClass:"ten_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetDate(t.handleSearch(),a)[0]?t.handleGetDate(t.handleSearch(),a)[0]:""))])]),n("td",[n("span",{staticClass:"don_vi text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetDate(t.handleSearch(),a)[1]?t.handleGetDate(t.handleSearch(),a)[1]:""))])]),n("td",[n("span",{staticClass:"gia_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetPersion(t.handleSearch(),a)[0]?t.handleGetPersion(t.handleSearch(),a)[0]:""))])]),n("td",[n("span",{staticClass:"khu_vuc text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetPersion(t.handleSearch(),a)[1]?t.handleGetPersion(t.handleSearch(),a)[1]:""))])]),n("td",[n("span",{staticClass:"thoi_diem text-muted font-weight-bold"},[t._v(t._s(null!==e.moTaTask?e.moTaTask:"null"))])]),n("td",[n("span",{staticClass:"nguon text-muted font-weight-bold"},[t._v(t._s(null!==e.mucDo?e.mucDo:"null"))])]),n("td",[n("span",{staticClass:"ghi_chu text-muted font-weight-bold"},[t._v(t._s(null!==e.ketQua?e.ketQua:"null"))])]),n("td",[n("span",{staticClass:"tinh text-muted font-weight-bold"},[t._v(t._s(null!==e.tinhTrang?e.tinhTrang:"null"))])]),n("td",[n("span",{staticClass:"tac_gia text-muted font-weight-bold"},[t._v(t._s(null!==e.luuY?e.luuY:"null"))])]),n("td",[n("span",{staticClass:"nguon text-muted font-weight-bold"},[n("i",{staticClass:"\n                          menu-icon\n                          cursor-pointer\n                          flaticon2-edit\n                          text-white\n                          pl-2\n                          pr-2\n                          mr-5\n                          bg-green-400\n                        ",on:{click:function(e){t.handleEdit(t.handleSearch(),a)}}}),n("i",{staticClass:"\n                          menu-icon\n                          cursor-pointer\n                          flaticon2-rubbish-bin\n                          text-white\n                          pl-2\n                          pr-2\n                          bg-red-600\n                        ",on:{click:function(e){t.handleDelete(t.handleSearch(),a)}}})])])])]}))],2)])])])]):n("div",{staticClass:"card-body pt-0 pb-3"},[n("div",{staticClass:"tab-content"},[n("div",{staticClass:"table-responsive table-striped"},[n("table",{staticClass:"\n              table\n              table-head-custom\n              table-vertical-center\n              table-head-bg\n              table-borderless\n              \n            "},[t._m(1),0!==t.dataArr.length?n("tbody",[t._l(t.dataArrAssignedWork,(function(e,a){return[n("tr",{key:a,staticClass:"row_table_note"},[n("td",{staticStyle:{display:"none"}},[n("span",{staticClass:"id_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.id?e.id:"null"))])]),n("td",[n("span",{staticClass:"ma_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.Ten?e.Ten:"null"))])]),n("td",[n("span",{staticClass:"ten_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetDate(t.dataArrAssignedWork,a)[0]?t.handleGetDate(t.dataArrAssignedWork,a)[0]:""))])]),n("td",[n("span",{staticClass:"don_vi text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetDate(t.dataArrAssignedWork,a)[1]?t.handleGetDate(t.dataArrAssignedWork,a)[1]:""))])]),n("td",[n("span",{staticClass:"gia_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetPersion(t.dataArrAssignedWork,a)[0]?t.handleGetPersion(t.dataArrAssignedWork,a)[0]:""))])]),n("td",[n("span",{staticClass:"khu_vuc text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetPersion(t.dataArrAssignedWork,a)[1]?t.handleGetPersion(t.dataArrAssignedWork,a)[1]:""))])]),n("td",[n("span",{staticClass:"thoi_diem text-muted font-weight-bold"},[t._v(t._s(null!==e.moTaTask?e.moTaTask:"null"))])]),n("td",[n("span",{staticClass:"nguon text-muted font-weight-bold"},[t._v(t._s(null!==e.mucDo?e.mucDo:"null"))])]),n("td",[n("span",{staticClass:"ghi_chu text-muted font-weight-bold"},[t._v(t._s(null!==e.ketQua?e.ketQua:"null"))])]),n("td",[n("span",{staticClass:"tinh text-muted font-weight-bold"},[t._v(t._s(null!==e.tinhTrang?e.tinhTrang:"null"))])]),n("td",[n("span",{staticClass:"tac_gia text-muted font-weight-bold"},[t._v(t._s(null!==e.luuY?e.luuY:"null"))])]),n("td",[n("span",{staticClass:"nguon text-muted font-weight-bold"},[n("i",{staticClass:"\n                          menu-icon\n                          cursor-pointer\n                          flaticon2-edit\n                          text-white\n                          pl-2\n                          pr-2\n                          mr-5\n                          bg-green-400\n                        ",on:{click:function(e){return t.handleEdit(t.dataArrAssignedWork,a)}}}),n("i",{staticClass:"\n                          menu-icon\n                          cursor-pointer\n                          flaticon2-rubbish-bin\n                          text-white\n                          pl-2\n                          pr-2\n                          bg-red-600\n                        ",on:{click:function(e){return t.handleDelete(t.dataArrAssignedWork,a)}}})])])])]}))],2):t._e()])])])]),n("b-pagination",{attrs:{align:"right",pills:"",perPage:"20","total-rows":t.rows,size:"lg"},on:{"page-click":function(e){return t.dataArr(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-left"},[n("th",{staticStyle:{display:"none"}},[t._v("Id")]),n("th",[t._v("Tên")]),n("th",[t._v("Kế hoạch")]),n("th",[t._v("Thực hiện")]),n("th",[t._v("Người đề xuất")]),n("th",[t._v("Người phối hợp")]),n("th",[t._v("Yêu cầu công việc")]),n("th",[t._v("Ưu tiên")]),n("th",[t._v("Kết quả")]),n("th",[t._v("Tình trạng")]),n("th",[t._v("Lưu ý")]),n("th")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-left"},[n("th",{staticStyle:{display:"none"}},[t._v("Id")]),n("th",[t._v("Tên")]),n("th",[t._v("Kế hoạch")]),n("th",[t._v("Thực hiện")]),n("th",[t._v("Người đề xuất")]),n("th",[t._v("Người phối hợp")]),n("th",[t._v("Yêu cầu công việc")]),n("th",[t._v("Ưu tiên")]),n("th",[t._v("Kết quả")]),n("th",[t._v("Tình trạng")]),n("th",[t._v("Lưu ý")]),n("th")])])}],l=n("5530"),i=(n("b0c0"),n("ac1f"),n("841c"),n("4de4"),n("caad"),n("2532"),n("1276"),n("8e5f")),r=n.n(i),o=n("2f62"),c=n("25a6"),u={components:{Multiselect:r.a},data:function(){return{search:"",text:"",currentPage:1,rows:100,dataArrAssignedWork:[],dataArrAllTask:[],selectedPersion:null,persion:[],selectedPriorityLevel:null,priority_level:[{value:"Quan trọng và khẩn cấp",text:"Quan trọng và khẩn cấp"},{value:"Quan trọng nhưng không khẩn cấp",text:"Quan trọng nhưng không khẩn cấp"},{value:"Khẩn cấp nhưng không quan trọng",text:"Khẩn cấp nhưng không quan trọng"},{value:"Không quan trọng và không khẩn cấp",text:"Không quan trọng và không khẩn cấp"}],selectedJobStatus:null,job_status:[{value:"Chưa khởi động",text:"Chưa khởi động"},{value:"Đang thực hiện",text:"Đang thực hiện"},{value:"Quá hạn",text:"Quá hạn"},{value:"Đã phê duyệt",text:"Đã phê duyệt"}],selectedWorkResults:null,work_results:[{value:"Đã hoàn thành",text:"Đã hoàn thành"},{value:"Chưa hoàn thành",text:"Chưa hoàn thành"}]}},computed:Object(l["a"])({},Object(o["c"])(["storeqlda/getListDataUserGTer"])),created:function(){var t=this;this["storeqlda/getAllTask"]().then((function(e){t.dataArrAllTask=e.data})),this["storeqlda/getListDataUser"]().then((function(){var e=t["storeqlda/getListDataUserGTer"];for(var n in e){var a={id:e[n].id,text:e[n].name};t.persion.push(a)}}))},mounted:function(){this.$store.dispatch(c["a"],[{title:"Công việc giao"}]),this.dataArr(this.currentPage)},methods:Object(l["a"])(Object(l["a"])({},Object(o["b"])(["storeqlda/getListTaskHasPaging","storeqlda/getAllTask","storeqlda/getListDataUser","storeqlda/destroyTaskWithId"])),{},{handleReset:function(){this.search="",this.selectedPersion=null,this.selectedPriorityLevel=null,this.selectedJobStatus=null,this.selectedWorkResults=null},handleSearch:function(){var t=this;if(this.search){var e=this.dataArrAllTask.filter((function(e){var n=!1;return e.Ten&&0==n&&(n=e.Ten.toLowerCase().includes(t.search.toLowerCase())),e.moTaTask&&0==n&&(n=e.moTaTask.toLowerCase().includes(t.search.toLowerCase())),e.luuY&&0==n&&(n=e.luuY.toLowerCase().includes(t.search.toLowerCase())),e.nguoiDeXuat&&0==n&&(n=e.nguoiDeXuat.toLowerCase().includes(t.search.toLowerCase())),e.nguoiPhoiHop&&0==n&&(n=e.nguoiPhoiHop.toLowerCase().includes(t.search.toLowerCase())),e.mucDo&&0==n&&(n=e.mucDo.toLowerCase().includes(t.search.toLowerCase())),n}));return e}if(this.selectedPriorityLevel||this.selectedPersion||this.selectedWorkResults||this.selectedJobStatus){var n=this.dataArrAllTask.filter((function(e){if(t.selectedPriorityLevel&&t.selectedPriorityLevel==e.mucDo)return e;if(t.selectedJobStatus&&t.selectedJobStatus==e.tinhTrang)return e;if(t.selectedWorkResults&&t.selectedWorkResults==e.ketQua)return e;if(t.selectedPersion){var n=e.nguoiPhoiHop.toLowerCase().includes(JSON.stringify(t.selectedPersion).toLowerCase());if(n)return console.log("item",e),e}}));return n}},handleGetPersion:function(t,e){var n=[],a="",s="";if(t[e].nguoiDeXuat)for(var l in n=JSON.parse(t[e].nguoiDeXuat),n)a=""==a?n[l].text:a+","+n[l].text;if(t[e].nguoiPhoiHop)for(var i in n=JSON.parse(t[e].nguoiPhoiHop),n)s=""==s?n[i].text:s+","+n[i].text;return n=[],a&&n.push(a),s&&n.push(s),n},handleGetDate:function(t,e){var n="",a="",s=[];if(t[e].keHoach){s=JSON.parse(t[e].keHoach);var l=s[0].split("-"),i=s[1].split("-");n="Bắt đầu : "+l[2]+"/"+l[1]+"/"+l[0]+",Kết thúc "+i[2]+"/"+i[1]+"/"+i[0]}if(t[e].thucHien){s=JSON.parse(t[e].thucHien);var r=s[0].split("-"),o=s[1].split("-");a="Bắt đầu : "+r[2]+"/"+r[1]+"/"+r[0]+",Kết thúc "+o[2]+"/"+o[1]+"/"+o[0]}return s=[],n&&s.push(n),n&&s.push(a),s},handleDelete:function(t,e){var n=this;confirm("Bạn có chắc chắn muốn xóa dữ liệu này không?")&&this["storeqlda/destroyTaskWithId"](t[e].id).then((function(t){n.search?(n["storeqlda/getAllTask"]().then((function(t){n.dataArrAllTask=t.data})),alert(t.data.msg)):(n.dataArr(n.currentPage),alert(t.data.msg))}))},handleEdit:function(t,e){var n=t[e].id;this.$router.push("/themcongviec/".concat(n))},custom_label_persion:function(t){var e=t.text;return"".concat(e)},dataArr:function(t){var e=this,n={page:t};this["storeqlda/getListTaskHasPaging"](n).then((function(t){e.dataArrAssignedWork=t.data.data,e.pagination=t.data,e.rows=t.data.total}))}})},d=u,h=(n("60bc"),n("b8f3"),n("2877")),g=Object(h["a"])(d,a,s,!1,null,"5d7cf209",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-4b8d4c4e.59046f6e.js.map