{"version":3,"sources":["webpack:///./src/view/pages/hopdong/them_hop_dong/them_hop_dong.vue?e0db","webpack:///./src/view/pages/hopdong/them_hop_dong/them_hop_dong.vue?a34b","webpack:///src/view/pages/hopdong/them_hop_dong/them_hop_dong.vue","webpack:///./src/view/pages/hopdong/them_hop_dong/them_hop_dong.vue?a0e3","webpack:///./src/view/pages/hopdong/them_hop_dong/them_hop_dong.vue?1cb9","webpack:///./node_modules/vue-multiselect/dist/vue-multiselect.min.css?e6ef"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","nameContract","expression","custom_label","kind_contract","selectedKindContract","project","selectedProject","staticStyle","valueContract","persion_do","selectedPersionDo","timeStart","timeFinish","unit","selectedUnit","mass","on","$event","onFileChange","_m","arrItem","length","_l","it","idx","key","addressServe","path","_s","domProps","rootName","handleDelete","_e","ref","handleUpdate","handleSave","staticRenderFns","data","isActive","computed","$store","dispatch","then","i","arrTemp","id","text","name","tenDuAn","methods","confirm","reader","readAsDataURL","file","onload","alert","nameRootFile","tenHopDong","loaiHopDong","JSON","stringify","duAn","giaTriHD","nhanSuLienQuan","batDau","ketThuc","donVi","khoiLuong","idContract","objFile","arrNameFile","submitButton","classList","add","remove","component"],"mappings":"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","file":"js/chunk-55dfdb96.28804334.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./them_hop_dong.vue?vue&type=style&index=1&id=5fa2a52e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"them-hd\"},[_c('div',{staticClass:\"body-hstk\"},[_c('div',{staticClass:\"form-add-hd\"},[_c('h5',[_vm._v(\"Cập nhật thông tin hợp đồng\")]),_c('div',{staticClass:\"hd-gr1\"},[_c('p',[_vm._v(\"Tên hợp đồng:\")]),_c('b-form-input',{attrs:{\"id\":\"input-1\",\"type\":\"text\",\"placeholder\":\"Nhập tên hợp đồng\",\"required\":\"\"},model:{value:(_vm.nameContract),callback:function ($$v) {_vm.nameContract=$$v},expression:\"nameContract\"}})],1),_c('div',{staticClass:\"hd-gr3\"},[_c('p',{staticClass:\"pt-2\"},[_vm._v(\"Loại hợp đồng:\")]),_c('multiselect',{attrs:{\"custom-label\":_vm.custom_label,\"label\":\"name\",\"track-by\":\"id\",\"selectLabel\":\"Ấn enter để chọn\",\"deselectLabel\":\"Ấn enter để bỏ chọn\",\"options\":_vm.kind_contract},model:{value:(_vm.selectedKindContract),callback:function ($$v) {_vm.selectedKindContract=$$v},expression:\"selectedKindContract\"}})],1),_c('div',{staticClass:\"hd-gr2\"},[_c('div',{staticClass:\"du-an-moi\"},[_c('p',{staticClass:\"pt-2\"},[_vm._v(\"Dự án (Thêm mới)\")]),_c('multiselect',{attrs:{\"custom-label\":_vm.custom_label,\"label\":\"name\",\"track-by\":\"id\",\"selectLabel\":\"Ấn enter để chọn\",\"deselectLabel\":\"Ấn enter để bỏ chọn\",\"options\":_vm.project},model:{value:(_vm.selectedProject),callback:function ($$v) {_vm.selectedProject=$$v},expression:\"selectedProject\"}})],1),_c('div',{staticClass:\"gia-tri-hd\"},[_c('p',{staticClass:\"pt-2\"},[_vm._v(\"Giá trị theo HĐ/PLHĐ\")]),_c('b-form-input',{staticStyle:{\"height\":\"43px\"},attrs:{\"id\":\"input-1\",\"type\":\"text\",\"placeholder\":\"Nhập giá trị hợp đồng\",\"required\":\"\"},model:{value:(_vm.valueContract),callback:function ($$v) {_vm.valueContract=$$v},expression:\"valueContract\"}})],1)]),_c('div',{staticClass:\"hd-gr3\"},[_c('p',{staticClass:\"pt-2\"},[_vm._v(\"Nhân sự liên quan:\")]),_c('multiselect',{attrs:{\"multiple\":\"\",\"custom-label\":_vm.custom_label,\"label\":\"name\",\"track-by\":\"id\",\"selectLabel\":\"Ấn enter để chọn\",\"deselectLabel\":\"Ấn enter để bỏ chọn\",\"options\":_vm.persion_do},model:{value:(_vm.selectedPersionDo),callback:function ($$v) {_vm.selectedPersionDo=$$v},expression:\"selectedPersionDo\"}})],1),_c('h5',[_vm._v(\"Khối lượng thực hiện theo hợp đồng\")]),_c('div',{staticClass:\"hd-gr4\"},[_c('div',{staticClass:\"hd-bat-dau\"},[_c('p',{staticClass:\"pt-2\"},[_vm._v(\"Bắt đầu:\")]),_c('b-form-input',{attrs:{\"id\":\"input-1\",\"type\":\"date\",\"required\":\"\"},model:{value:(_vm.timeStart),callback:function ($$v) {_vm.timeStart=$$v},expression:\"timeStart\"}})],1),_c('div',{staticClass:\"hd-ket-thuc\"},[_c('p',{staticClass:\"pt-2\"},[_vm._v(\"Kết thúc:\")]),_c('b-form-input',{attrs:{\"id\":\"input-1\",\"type\":\"date\",\"required\":\"\"},model:{value:(_vm.timeFinish),callback:function ($$v) {_vm.timeFinish=$$v},expression:\"timeFinish\"}})],1)]),_c('div',[_c('p',{staticClass:\"pt-2\"},[_vm._v(\"Đơn vị (Thêm mới)\")]),_c('multiselect',{attrs:{\"custom-label\":_vm.custom_label,\"label\":\"name\",\"track-by\":\"id\",\"selectLabel\":\"Ấn enter để chọn\",\"deselectLabel\":\"Ấn enter để bỏ chọn\",\"options\":_vm.unit},model:{value:(_vm.selectedUnit),callback:function ($$v) {_vm.selectedUnit=$$v},expression:\"selectedUnit\"}})],1),_c('div',[_c('p',{staticClass:\"pt-2\"},[_vm._v(\"Khối lượng\")]),_c('b-form-input',{staticStyle:{\"height\":\"34px\"},attrs:{\"id\":\"input-1\",\"type\":\"text\",\"placeholder\":\"Nhập tên công việc\",\"required\":\"\"},model:{value:(_vm.mass),callback:function ($$v) {_vm.mass=$$v},expression:\"mass\"}})],1),_c('div',{staticClass:\"add-gr5\"},[_c('h5',[_vm._v(\"File và tài liệu liên quan\")]),_c('div',{staticClass:\"flex justify-between\"},[_c('input',{staticClass:\"cursor-pointer\",attrs:{\"multiple\":\"\",\"type\":\"file\",\"name\":\"\",\"id\":\"\"},on:{\"change\":function($event){return _vm.onFileChange($event)}}}),_vm._m(0)]),(_vm.arrItem.length>0)?_c('div',_vm._l((_vm.arrItem),function(it,idx){return _c('div',{key:idx,staticClass:\"nguon text-muted font-weight-bold flex justify-between pt-2\"},[_c('div',{staticClass:\"flex\"},[_c('a',{staticStyle:{\"line-height\":\"24px\"},attrs:{\"href\":_vm.addressServe + _vm.arrItem[idx].path}},[_vm._v(\" File \"+_vm._s(idx + 1)+\" : \")]),_c('input',{staticClass:\"rootNameFile ml-24\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.arrItem[idx].rootName}})]),_c('div',[_c('i',{staticClass:\"menu-icon cursor-pointer flaticon2-rubbish-bin text-white pl-2 pr-2 bg-red-600\",on:{\"click\":function($event){return _vm.handleDelete(idx)}}})])])}),0):_vm._e()])]),_c('div',{staticClass:\"hstk_note\"},[_c('div',{staticClass:\"add-gr41\"},[_c('b-tabs',{attrs:{\"content-class\":\"mt-3\"}},[_c('b-tab',{attrs:{\"title\":\"First\",\"active\":\"\"}},[_c('p',[_vm._v(\"I'm the first tab\")])]),_c('b-tab',{attrs:{\"title\":\"Second\"}},[_c('p',[_vm._v(\"I'm the second tab\")])])],1)],1),_vm._m(1)])]),_c('div',{staticClass:\"hs-gr6\"},[_c('div',{staticClass:\"add-gr51\"},[_c('b-button',{staticClass:\"mb-2 tao-cv\",attrs:{\"size\":\"sm\"}},[_c('b-icon',{attrs:{\"icon\":\"x-octagon-fill\",\"aria-hidden\":\"true\"}}),_vm._v(\" Bỏ qua \")],1)],1),(_vm.idCurrentContract)?_c('div',{staticClass:\"add-gr51 add-gr52\"},[_c('b-button',{ref:\"kt_save_changes\",staticClass:\"mb-2 tao-cv\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.handleUpdate}},[_c('b-icon',{attrs:{\"icon\":\"check2\",\"aria-hidden\":\"true\"}}),_vm._v(\" Cập nhật \")],1)],1):_c('div',{staticClass:\"add-gr51 add-gr52\"},[_c('b-button',{ref:\"kt_save_changes\",staticClass:\"mb-2 tao-cv\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.handleSave}},[_c('b-icon',{attrs:{\"icon\":\"check2\",\"aria-hidden\":\"true\"}}),_vm._v(\" Tạo hợp đồng \")],1)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\"},[_c('input',{attrs:{\"type\":\"text\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-gr41\"},[_c('p',[_vm._v(\" Tên nhân viên ghi chú Thời điểm ghi chú Đây là mẫu format ghi chú. Nội dung ghi chú sẽ được hiển thị ở đây \")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"them-hd\">\r\n    <div class=\"body-hstk\">\r\n      <div class=\"form-add-hd\">\r\n        <h5>Cập nhật thông tin hợp đồng</h5>\r\n        <div class=\"hd-gr1\">\r\n          <p>Tên hợp đồng:</p>\r\n          <b-form-input\r\n            v-model=\"nameContract\"\r\n            id=\"input-1\"\r\n            type=\"text\"\r\n            placeholder=\"Nhập tên hợp đồng\"\r\n            required\r\n          ></b-form-input>\r\n        </div>\r\n          <div class=\"hd-gr3\">\r\n          <p class=\"pt-2\">Loại hợp đồng:</p>\r\n           <multiselect\r\n            v-model=\"selectedKindContract\"\r\n            :custom-label=\"custom_label\"\r\n            label=\"name\"\r\n            track-by=\"id\"\r\n            selectLabel=\"Ấn enter để chọn\"\r\n            deselectLabel=\"Ấn enter để bỏ chọn\"\r\n            :options=\"kind_contract\"\r\n          >\r\n          </multiselect>\r\n        </div>\r\n        <div class=\"hd-gr2\">\r\n          <div class=\"du-an-moi\">\r\n            <p class=\"pt-2\">Dự án (Thêm mới)</p>\r\n             <multiselect\r\n            v-model=\"selectedProject\"\r\n            :custom-label=\"custom_label\"\r\n            label=\"name\"\r\n            track-by=\"id\"\r\n            selectLabel=\"Ấn enter để chọn\"\r\n            deselectLabel=\"Ấn enter để bỏ chọn\"\r\n            :options=\"project\"\r\n          >\r\n          </multiselect>\r\n          </div>\r\n          <div class=\"gia-tri-hd\">\r\n            <p class=\"pt-2\">Giá trị theo HĐ/PLHĐ</p>\r\n            <b-form-input\r\n              v-model=\"valueContract\"\r\n\t\t        \tstyle=\"height :43px\"\r\n              id=\"input-1\"\r\n              type=\"text\"\r\n              placeholder=\"Nhập giá trị hợp đồng\"\r\n              required\r\n            ></b-form-input>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"hd-gr3\">\r\n          <p class=\"pt-2\">Nhân sự liên quan:</p>\r\n           <multiselect\r\n            v-model=\"selectedPersionDo\"\r\n            multiple\r\n            :custom-label=\"custom_label\"\r\n            label=\"name\"\r\n            track-by=\"id\"\r\n            selectLabel=\"Ấn enter để chọn\"\r\n            deselectLabel=\"Ấn enter để bỏ chọn\"\r\n            :options=\"persion_do\"\r\n          >\r\n          </multiselect>\r\n        </div>\r\n\r\n        <h5>Khối lượng thực hiện theo hợp đồng</h5>\r\n        <div class=\"hd-gr4\">\r\n          <div class=\"hd-bat-dau\">\r\n            <p class=\"pt-2\">Bắt đầu:</p>\r\n             <b-form-input\r\n                v-model=\"timeStart\"\r\n                id=\"input-1\"\r\n                type=\"date\"\r\n                required\r\n              ></b-form-input>\r\n          </div>\r\n\r\n          <div class=\"hd-ket-thuc\">\r\n            <p class=\"pt-2\">Kết thúc:</p>\r\n             <b-form-input\r\n                v-model=\"timeFinish\"\r\n                id=\"input-1\"\r\n                type=\"date\"\r\n                required\r\n              ></b-form-input>\r\n          </div>\r\n        </div>\r\n\r\n        <div >\r\n          <p class=\"pt-2\">Đơn vị (Thêm mới)</p>\r\n           <multiselect\r\n            v-model=\"selectedUnit\"\r\n            :custom-label=\"custom_label\"\r\n            label=\"name\"\r\n            track-by=\"id\"\r\n            selectLabel=\"Ấn enter để chọn\"\r\n            deselectLabel=\"Ấn enter để bỏ chọn\"\r\n            :options=\"unit\"\r\n          >\r\n          </multiselect>\r\n        </div>\r\n\r\n        <div >\r\n          <p class=\"pt-2\">Khối lượng</p>\r\n              <b-form-input\r\n              v-model=\"mass\"\r\n\t\t        \tstyle=\"height :34px\"\r\n              id=\"input-1\"\r\n              type=\"text\"\r\n              placeholder=\"Nhập tên công việc\"\r\n              required\r\n            ></b-form-input>\r\n        </div>\r\n\r\n     <div class=\"add-gr5\">\r\n      <h5>File và tài liệu liên quan</h5>\r\n      <div class=\"flex justify-between\">\r\n        <input \r\n        multiple\r\n        @change=\"onFileChange($event)\"\r\n        class=\"cursor-pointer\" \r\n        type=\"file\" name=\"\" id=\"\">\r\n        <div class=\"flex\">\r\n        <input \r\n        type=\"text\">\r\n\r\n        </div>\r\n      </div>\r\n      <!-- <b-form-file class=\"z-0\" style=\"cursor: pointer\" id=\"file-small\" size=\"sm\"></b-form-file> -->\r\n        <div  v-if=\"arrItem.length>0\">\r\n            <div \r\n            v-for=\"(it, idx) in arrItem\"\r\n            v-bind:key=\"idx\"\r\n            class=\"nguon text-muted font-weight-bold flex justify-between pt-2\">\r\n          <div class=\"flex\">\r\n           <a style=\"line-height:24px\"\r\n           v-bind:href=\"addressServe + arrItem[idx].path\"> File  {{idx + 1}} : </a>\r\n            <input class=\"rootNameFile ml-24\"\r\n            v-bind:value=\"arrItem[idx].rootName\"\r\n            type=\"text\">\r\n          </div>\r\n          <div>\r\n          \r\n          <i\r\n            @click=\"handleDelete(idx)\"\r\n            class=\"menu-icon cursor-pointer flaticon2-rubbish-bin text-white pl-2 pr-2 bg-red-600\"\r\n          ></i>\r\n          </div>\r\n       </div>\r\n\r\n   </div>\r\n    </div>\r\n      </div>\r\n\r\n      <div class=\"hstk_note\">\r\n        <div class=\"add-gr41\">\r\n          <b-tabs content-class=\"mt-3\">\r\n            <b-tab title=\"First\" active><p>I'm the first tab</p></b-tab>\r\n            <b-tab title=\"Second\"><p>I'm the second tab</p></b-tab>\r\n          </b-tabs>\r\n        </div>\r\n        <div class=\"add-gr41\">\r\n          <p>\r\n            Tên nhân viên ghi chú Thời điểm ghi chú Đây là mẫu format ghi chú.\r\n            Nội dung ghi chú sẽ được hiển thị ở đây\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"hs-gr6\">\r\n      <div class=\"add-gr51\">\r\n        <b-button size=\"sm\" class=\"mb-2 tao-cv\">\r\n          <b-icon icon=\"x-octagon-fill\" aria-hidden=\"true\"></b-icon> Bỏ qua\r\n        </b-button>\r\n      </div>\r\n         <div v-if=\"idCurrentContract\" class=\"add-gr51 add-gr52\">\r\n      <b-button \r\n      ref=\"kt_save_changes\"\r\n      @click=\"handleUpdate\" size=\"sm\" class=\"mb-2 tao-cv\">\r\n        <b-icon icon=\"check2\" aria-hidden=\"true\"></b-icon> Cập nhật\r\n      </b-button>\r\n      </div>\r\n\r\n      <div v-else class=\"add-gr51 add-gr52\">\r\n        <b-button \r\n        ref=\"kt_save_changes\"\r\n        @click=\"handleSave\" size=\"sm\" class=\"mb-2 tao-cv\">\r\n          <b-icon icon=\"check2\" aria-hidden=\"true\"></b-icon> Tạo hợp đồng\r\n        </b-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Multiselect from \"vue-multiselect\";\r\nimport { mapActions, mapGetters,mapState } from \"vuex\";\r\nimport { SET_BREADCRUMB } from \"@/core/services/store/store_metronic/breadcrumbs.module\";\r\nexport default {\r\n   components: { Multiselect },\r\n  data() {\r\n    return {\r\n       idCurrentContract:null,\r\n      nameContract:'',\r\n      arrItem:[],\r\n       fileData: [],\r\n      valueContract:'',\r\n      timeStart:'',\r\n      timeFinish:'',\r\n      mass:'',\r\n      selectedKindContract: null, // Array reference\r\n      kind_contract: [ \r\n        { id: \"1\", text: \"Hợp đồng trọn gói\" },\r\n        { id: \"2\", text: \"Hợp đồng đơn giá cố định\" },\r\n        { id: \"3\", text: \"Hợp đồng đơn giá thay đổi\" },\r\n        ],\r\n      selectedPersionDo: null, // Array reference\r\n      persion_do: [],\r\n      selectedProject: null, // Array reference\r\n      project: [],\r\n      selectedUnit: null, // Array reference\r\n      unit: [],\r\n      isActive: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      \"storeqlda/getListDataUserGTer\",\r\n      \"currentUserPersonalInfo\",\r\n      \"storeqlda/currentUser\",\r\n    ]),\r\n     ...mapState({\r\n      addressServe: (state) => state.storeqlda.addressServe, // rieng doi voi map state thi phai dùng như này để  lấy state\r\n    }),\r\n  },\r\n    mounted() {\r\n    this.$store.dispatch(SET_BREADCRUMB, [{ title: \"Tạo hợp đồng\" }]);\r\n  },\r\n   created() {\r\n       this.idCurrentContract = this.$route.params.id;\r\n     if(this.idCurrentContract!== undefined){\r\n        this[\"storeqlda/getContractWithId\"](this.idCurrentContract).then((res)=>{\r\n         this.nameContract = res.data.pagi.tenHopDong ;\r\n         this.valueContract = res.data.pagi.giaTriHD ;\r\n         this.timeStart = res.data.pagi.batDau ;\r\n        this.timeFinish= res.data.pagi.ketThuc ;\r\n        this.mass=res.data.pagi.khoiLuong ;\r\n        this.selectedKindContract =JSON.parse(res.data.pagi.loaiHopDong);\r\n        this.selectedPersionDo = JSON.parse(res.data.pagi.nhanSuLienQuan);\r\n        this.selectedProject = JSON.parse(res.data.pagi.duAn);\r\n        this.selectedUnit = JSON.parse(res.data.pagi.donVi);\r\n         this.arrItem = res.data.item;\r\n        })\r\n\r\n     }\r\n\r\n    this[\"storeqlda/getListDataUser\"]().then(() => {\r\n      let arrTemp = this[\"storeqlda/getListDataUserGTer\"];\r\n      for (var i in arrTemp) {\r\n        let data = {\r\n          id: arrTemp[i].id,\r\n          text: arrTemp[i].name,\r\n        };\r\n        this.persion_do.push(data);\r\n      }\r\n    });\r\n\r\n       this[\"storeqlda/getListProjectName\"]().then((res) => {\r\n       let arrTemp = res.data;\r\n      for (var i in arrTemp) {\r\n        let data = {\r\n          id: arrTemp[i].id,\r\n          text: arrTemp[i].tenDuAn,\r\n        };\r\n        this.project.push(data);\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n       ...mapActions([\"storeqlda/ActionCreateContract\", \r\n                      \"storeqlda/getListDataUser\",\r\n                      \"storeqlda/getListProjectName\",\r\n                      \"storeqlda/getContractWithId\",\r\n                      \"storeqlda/ActionUpdateContract\",\r\n                       \"storeqlda/destroyFileAttachTask\",\r\n                      ]),\r\n    custom_label({ text }) {\r\n      return `${text}`;\r\n    },\r\n     handleDelete(idx) {\r\n      if (confirm(\"Bạn có chắc chắn muốn xóa dữ liệu này không?\")) {\r\n        this[\"storeqlda/destroyFileAttachTask\"](this.arrItem[idx].id).then((res) => {\r\n            this.arrItem = this.arrItem.filter(item => item.id !== this.arrItem[idx].id);\r\n            // loại bỏ phần tử đã xóa ra khỏi mảng và gán lại vào mảng đó để vue tự dộng render lại\r\n            alert(res.data.msg);\r\n           \r\n        });\r\n      }\r\n    },\r\n      onFileChange(e) {\r\n          const files = e.target.files;\r\n          this.fileData = [];\r\n          if (typeof FileReader === \"function\") {\r\n          for (let file of files) {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => {\r\n              this.fileData.push(file);\r\n            };       \r\n      }\r\n      } else {\r\n        alert(\"Sorry, FileReader API not supported\");\r\n      }\r\n    },\r\n      handleUpdate(){\r\n          let listEl = document.querySelectorAll('.rootNameFile')\r\n      let nameRootFile={}\r\n      for (let i = 0; i < listEl.length; i++) {\r\n        nameRootFile[this.arrItem[i].id]=listEl[i].value\r\n      }\r\n      var data = {\r\n        tenHopDong: this.nameContract,\r\n        loaiHopDong: JSON.stringify(this.selectedKindContract),\r\n        duAn: JSON.stringify(this.selectedProject),\r\n        giaTriHD: this.valueContract,\r\n        nhanSuLienQuan: JSON.stringify(this.selectedPersionDo),\r\n        batDau: this.timeStart,\r\n        ketThuc: this.timeFinish,\r\n        donVi: JSON.stringify(this.selectedUnit),\r\n        khoiLuong: this.mass,\r\n        idContract:this.idCurrentContract,\r\n        objFile : this.fileData,\r\n        arrNameFile:JSON.stringify(nameRootFile)\r\n      };\r\n      const submitButton = this.$refs[\"kt_save_changes\"];\r\n      submitButton.classList.add(\"spinner\", \"spinner-light\", \"spinner-right\");\r\n    setTimeout(() => {\r\n      this[\"storeqlda/ActionUpdateContract\"](data).then((res) => {\r\n        alert(res.data);\r\n      });\r\n        submitButton.classList.remove(\r\n          \"spinner\",\r\n          \"spinner-light\",\r\n          \"spinner-right\"\r\n        );\r\n      }, 2000);\r\n    },\r\n\r\n    handleSave() {\r\n\r\n      var data = {\r\n        tenHopDong: this.nameContract,\r\n        loaiHopDong: JSON.stringify(this.selectedKindContract),\r\n        duAn: JSON.stringify(this.selectedProject),\r\n        giaTriHD: this.valueContract,\r\n        nhanSuLienQuan: JSON.stringify(this.selectedPersionDo),\r\n        batDau: this.timeStart,\r\n        ketThuc: this.timeFinish,\r\n        donVi: JSON.stringify(this.selectedUnit),\r\n        khoiLuong: this.mass,\r\n         objFile : this.fileData\r\n      };\r\n       const submitButton = this.$refs[\"kt_save_changes\"];\r\n      submitButton.classList.add(\"spinner\", \"spinner-light\", \"spinner-right\");\r\n    setTimeout(() => {\r\n      this[\"storeqlda/ActionCreateContract\"](data).then((res) => {\r\n        alert(res.data);\r\n      });\r\n        submitButton.classList.remove(\r\n          \"spinner\",\r\n          \"spinner-light\",\r\n          \"spinner-right\"\r\n        );\r\n      }, 2000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\r\n<style scoped>\r\n.hd-gr2{\r\n\tdisplay: flex;\r\n}\r\n.du-an-moi{\r\n\tflex: 0 0 50%;\r\n\tpadding-right: 5px;\r\n}\r\n.gia-tri-hd{\r\n\tflex: 1;\r\n}\r\n\r\n.hd-gr4{\r\n\tdisplay: flex;\r\n}\r\n.hd-bat-dau{\r\n\tflex: 0 0 50%;\r\n\tpadding-right: 5px;\r\n}\r\n.hd-ket-thuc{\r\n\tflex: 1;\r\n}\r\n\r\n\r\n.them-hd {\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n.form-add-hd {\r\n  width: 50%;\r\n  background-color: #fff;\r\n  padding: 10px;\r\n}\r\n\r\nh5{\r\n\tpadding-top: 15px;\r\n}\r\n\r\n.hs-gr6 .b-icon.bi {\r\n  position: relative;\r\n  left: 0.5px;\r\n  top: auto;\r\n}\r\n.hs-gr6 {\r\n  background-color: #00a53c;\r\n  height: 32px;\r\n  width: 100%;\r\n  position: fixed;\r\n  bottom: 0;\r\n}\r\n.add-gr51 {\r\n  float: left;\r\n}\r\n.add-gr52 {\r\n  margin-left: 30px;\r\n}\r\n.body-hstk {\r\n  display: flex;\r\n}\r\n.hstk_note .add-gr41 {\r\n  background-color: #fff;\r\n  margin-left: 20px;\r\n  border-radius: 5px;\r\n}\r\n.hstk_note .add-gr41 p {\r\n  padding: 10px;\r\n}\r\n.custom-file-label {\r\n    cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./them_hop_dong.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./them_hop_dong.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./them_hop_dong.vue?vue&type=template&id=5fa2a52e&scoped=true&\"\nimport script from \"./them_hop_dong.vue?vue&type=script&lang=js&\"\nexport * from \"./them_hop_dong.vue?vue&type=script&lang=js&\"\nimport style0 from \"vue-multiselect/dist/vue-multiselect.min.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./them_hop_dong.vue?vue&type=style&index=1&id=5fa2a52e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fa2a52e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../vue-loader/lib/loaders/stylePostLoader.js!../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./vue-multiselect.min.css?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}