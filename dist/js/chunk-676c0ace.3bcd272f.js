(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-676c0ace"],{"06a6":function(t,e,n){},"0b4b":function(t,e,n){},"60bc":function(t,e,n){"use strict";n("0b4b")},d86e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"danh-sach-ho-so"},[n("div",{staticClass:"div-fillter"},[n("div",{staticClass:"btn-add-cv"},[n("router-link",{staticClass:"mb-2 add-cv icon-tvgs pt-3 pb-3",attrs:{to:"/themhopdong",tag:"b-button"}},[n("b-icon",{attrs:{icon:"plus","aria-hidden":"true"}}),t._v(" Thêm ")],1)],1),n("div",{staticClass:"select-cbb"},[n("b-form-select",{attrs:{options:t.time_create},scopedSlots:t._u([{key:"first",fn:function(){return[n("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Thời gian tạo hợp đồng --")])]},proxy:!0}]),model:{value:t.selectedTimeCreate,callback:function(e){t.selectedTimeCreate=e},expression:"selectedTimeCreate"}})],1),n("div",{staticClass:"select-cbb"},[n("b-form-select",{attrs:{options:t.priority_level},scopedSlots:t._u([{key:"first",fn:function(){return[n("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Tình trạng hợp đồng --")])]},proxy:!0}]),model:{value:t.selectedPriorityLevel,callback:function(e){t.selectedPriorityLevel=e},expression:"selectedPriorityLevel"}})],1),n("div",{staticClass:"select-cbb"},[n("multiselect",{attrs:{placeholder:"Loại hợp đồng","custom-label":t.custom_label_persion,label:"name","track-by":"id",selectLabel:"Ấn enter để chọn",deselectLabel:"Ấn enter để bỏ chọn",options:t.kindcontract},model:{value:t.selectedKindContract,callback:function(e){t.selectedKindContract=e},expression:"selectedKindContract"}})],1),n("div",{staticClass:"search-congv"},[n("b-input-group",{staticClass:"mb-2 add-cv icon-tvgs cursor-pointer",attrs:{size:"sm"}},[n("b-form-input",{attrs:{type:"search",placeholder:"Search terms"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("b-input-group-prepend",{attrs:{"is-text":""}},[n("b-icon",{attrs:{icon:"search"},on:{click:t.handleSearch}})],1),n("b-input-group-prepend",{attrs:{"is-text":""}},[n("b-icon",{attrs:{icon:"arrow-repeat"},on:{click:t.handleReset}})],1)],1)],1)]),t.search||t.selectedKindContract?n("div",{staticClass:"card-body pt-0 pb-3"},[n("div",{staticClass:"tab-content"},[n("div",{staticClass:"table-responsive table-striped"},[n("table",{staticClass:"\n              table\n              table-head-custom\n              table-vertical-center\n              table-head-bg\n              table-borderless\n            "},[t._m(0),0!==t.dataArr.length?n("tbody",[t._l(t.handleSearch(),(function(e,a){return[n("tr",{key:a,staticClass:"row_table_note"},[n("td",{staticStyle:{display:"none"}},[n("span",{staticClass:"id_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.id?e.id:"null"))])]),n("td",[n("span",{staticClass:"ma_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.tenHopDong?e.tenHopDong:"null"))])]),n("td",[n("span",{staticClass:"ma_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.loaiHopDong?e.loaiHopDong:"null"))])]),n("td",[n("span",{staticClass:"ten_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetPersion(t.handleSearch(),a)[0]?t.handleGetPersion(t.handleSearch(),a)[0]:""))])]),n("td",[n("span",{staticClass:"don_vi text-muted font-weight-bold"},[t._v(t._s(null!==e.giaTriHD?e.giaTriHD:"null"))])]),n("td",[n("span",{staticClass:"gia_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetPersion(t.handleSearch(),a)[1]?t.handleGetPersion(t.handleSearch(),a)[1]:"")+" ")])]),n("td",[n("span",{staticClass:"khu_vuc text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetDate(t.handleSearch(),a)[0]?t.handleGetDate(t.handleSearch(),a)[0]:""))])]),n("td",[n("span",{staticClass:"thoi_diem text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetDate(t.handleSearch(),a)[1]?t.handleGetDate(t.handleSearch(),a)[1]:""))])]),n("td",[n("span",{staticClass:"thoi_diem text-muted font-weight-bold"},[t._v(t._s(null!==e.donVi?e.donVi:"null"))])]),n("td",[n("span",{staticClass:"thoi_diem text-muted font-weight-bold"},[t._v(t._s(null!==e.khoiLuong?e.khoiLuong:"null"))])]),n("td",[n("span",{staticClass:"nguon text-muted font-weight-bold"},[n("i",{staticClass:"\n                          menu-icon\n                          cursor-pointer\n                          flaticon2-edit\n                          text-white\n                          pl-2\n                          pr-2\n                          mr-5\n                          bg-green-400\n                        ",on:{click:function(e){return t.handleEdit(a)}}}),n("i",{staticClass:"\n                          menu-icon\n                          cursor-pointer\n                          flaticon2-rubbish-bin\n                          text-white\n                          pl-2\n                          pr-2\n                          bg-red-600\n                        ",on:{click:function(e){return t.handleDelete(a)}}})])])])]}))],2):t._e()])])])]):n("div",{staticClass:"card-body pt-0 pb-3"},[n("div",{staticClass:"tab-content"},[n("div",{staticClass:"table-responsive table-striped"},[n("table",{staticClass:"\n              table\n              table-head-custom\n              table-vertical-center\n              table-head-bg\n              table-borderless\n            "},[t._m(1),0!==t.dataArr.length?n("tbody",[t._l(t.dataArrContract,(function(e,a){return[n("tr",{key:a,staticClass:"row_table_note"},[n("td",{staticStyle:{display:"none"}},[n("span",{staticClass:"id_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.id?e.id:"null"))])]),n("td",[n("span",{staticClass:"ma_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.tenHopDong?e.tenHopDong:"null"))])]),n("td",[n("span",{staticClass:"ma_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==e.loaiHopDong?e.loaiHopDong:"null"))])]),n("td",[n("span",{staticClass:"ten_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetPersion(t.dataArrContract,a)[0]?t.handleGetPersion(t.dataArrContract,a)[0]:""))])]),n("td",[n("span",{staticClass:"don_vi text-muted font-weight-bold"},[t._v(t._s(null!==e.giaTriHD?e.giaTriHD:"null"))])]),n("td",[n("span",{staticClass:"gia_vat_tu text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetPersion(t.dataArrContract,a)[1]?t.handleGetPersion(t.dataArrContract,a)[1]:"")+" ")])]),n("td",[n("span",{staticClass:"khu_vuc text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetDate(t.dataArrContract,a)[0]?t.handleGetDate(t.dataArrContract,a)[0]:""))])]),n("td",[n("span",{staticClass:"thoi_diem text-muted font-weight-bold"},[t._v(t._s(null!==t.handleGetDate(t.dataArrContract,a)[1]?t.handleGetDate(t.dataArrContract,a)[1]:""))])]),n("td",[n("span",{staticClass:"thoi_diem text-muted font-weight-bold"},[t._v(t._s(null!==e.donVi?e.donVi:"null"))])]),n("td",[n("span",{staticClass:"thoi_diem text-muted font-weight-bold"},[t._v(t._s(null!==e.khoiLuong?e.khoiLuong:"null"))])]),n("td",[n("span",{staticClass:"nguon text-muted font-weight-bold"},[n("i",{staticClass:"\n                          menu-icon\n                          cursor-pointer\n                          flaticon2-edit\n                          text-white\n                          pl-2\n                          pr-2\n                          mr-5\n                          bg-green-400\n                        ",on:{click:function(e){return t.handleEdit(a)}}}),n("i",{staticClass:"\n                          menu-icon\n                          cursor-pointer\n                          flaticon2-rubbish-bin\n                          text-white\n                          pl-2\n                          pr-2\n                          bg-red-600\n                        ",on:{click:function(e){return t.handleDelete(a)}}})])])])]}))],2):t._e()])])])]),n("b-pagination",{attrs:{align:"right",pills:"",perPage:"20","total-rows":t.rows,size:"lg"},on:{"page-click":function(e){return t.dataArr(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-left"},[n("th",{staticStyle:{display:"none"}},[t._v("Id")]),n("th",[t._v("Tên hợp đồng")]),n("th",[t._v("loại hợp đồng")]),n("th",[t._v("dự Án")]),n("th",[t._v("giá trị hợp đồng")]),n("th",[t._v("nhán sự")]),n("th",[t._v("bắt đầu")]),n("th",[t._v("kết thúc")]),n("th",[t._v("đơn vị")]),n("th",[t._v("khối lượng")]),n("th")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-left"},[n("th",{staticStyle:{display:"none"}},[t._v("Id")]),n("th",[t._v("Tên hợp đồng")]),n("th",[t._v("loại hợp đồng")]),n("th",[t._v("dự Án")]),n("th",[t._v("giá trị hợp đồng")]),n("th",[t._v("nhán sự")]),n("th",[t._v("bắt đầu")]),n("th",[t._v("kết thúc")]),n("th",[t._v("đơn vị")]),n("th",[t._v("khối lượng")]),n("th")])])}],i=n("5530"),l=(n("ac1f"),n("841c"),n("4de4"),n("caad"),n("2532"),n("1276"),n("8e5f")),r=n.n(l),o=n("2f62"),c=n("25a6"),d={components:{Multiselect:r.a},data:function(){return{search:"",currentPage:1,rows:100,dataArrContract:[],dataArrAllContract:[],selectedKindContract:null,kindcontract:[{id:"1",text:"Hợp đồng trọn gói"},{id:"2",text:"Hợp đồng đơn giá cố định"},{id:"3",text:"Hợp đồng đơn giá thay đổi"}],selectedPriorityLevel:null,priority_level:[{value:"1",text:"Đã ký"},{value:"2",text:"Chưa ký"}],selectedTimeCreate:null,time_create:[{value:"1",text:"Tất cả"},{value:"2",text:"3 ngày"},{value:"2",text:"7 ngày"},{value:"2",text:"Tự chọn"}]}},created:function(){var t=this;this["storeqlda/getAllContract"]().then((function(e){t.dataArrAllContract=e.data}))},mounted:function(){this.$store.dispatch(c["a"],[{title:"Danh sách hợp đồng"}]),this.dataArr(this.currentPage)},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["storeqlda/getListContractHasPaging","storeqlda/getListDataUser","storeqlda/getAllContract","storeqlda/destroyContractWithId"])),{},{handleReset:function(){this.search="",this.selectedTimeCreate=null,this.selectedKindContract=null,this.selectedPriorityLevel=null},handleSearch:function(){var t=this;if(this.search){var e=this.dataArrAllContract.filter((function(e){var n=!1;return e.tenHopDong&&0==n&&(n=e.tenHopDong.toLowerCase().includes(t.search.toLowerCase())),e.loaiHopDong&&0==n&&(n=e.loaiHopDong.toLowerCase().includes(t.search.toLowerCase())),e.duAn&&0==n&&(n=e.duAn.toLowerCase().includes(t.search.toLowerCase())),e.nhanSuLienQuan&&0==n&&(n=e.nhanSuLienQuan.toLowerCase().includes(t.search.toLowerCase())),e.giaTriHD&&0==n&&(n=e.giaTriHD.toLowerCase().includes(t.search.toLowerCase())),e.khoiLuong&&0==n&&(n=e.khoiLuong.toLowerCase().includes(t.search.toLowerCase())),n}));return e}if(this.selectedPriorityLevel||this.selectedTimeCreate||this.selectedKindContract){var n=this.dataArrAllContract.filter((function(e){if(t.selectedKindContract&&t.selectedKindContract==e.loaiHopDong)return e}));return n}},handleGetPersion:function(t,e){var n=[],a="",s="";if(t[e].duAn&&(n=JSON.parse(t[e].duAn),a=n.text),t[e].nhanSuLienQuan)for(var i in n=JSON.parse(t[e].nhanSuLienQuan),n)s=""==s?n[i].text:s+","+n[i].text;return n=[],a&&n.push(a),s&&n.push(s),n},handleGetDate:function(t,e){var n="",a="",s=[];if(t[e].batDau){var i=t[e].batDau.split("-");n=i[2]+"/"+i[1]+"/"+i[0]}if(t[e].ketThuc){var l=t[e].ketThuc.split("-");a=l[2]+"/"+l[1]+"/"+l[0]}return s=[],n&&s.push(n),a&&s.push(a),s},handleEdit:function(t){var e=this.dataArrContract[t].id;this.$router.push("/themhopdong/".concat(e))},handleDelete:function(t){var e=this;confirm("Bạn có chắc chắn muốn xóa dữ liệu này không?")&&this["storeqlda/destroyContractWithId"](this.dataArrContract[t].id).then((function(t){e.dataArr(e.currentPage),alert(t.data.msg)}))},custom_label_persion:function(t){var e=t.text;return"".concat(e)},dataArr:function(t){var e=this,n={page:t};this["storeqlda/getListContractHasPaging"](n).then((function(t){e.dataArrContract=t.data.data,e.pagination=t.data,e.rows=t.data.total}))}})},u=d,h=(n("60bc"),n("f5c4"),n("2877")),p=Object(h["a"])(u,a,s,!1,null,"99209228",null);e["default"]=p.exports},f5c4:function(t,e,n){"use strict";n("06a6")}}]);
//# sourceMappingURL=chunk-676c0ace.3bcd272f.js.map